@import 'tailwindcss';

html {
  overflow: hidden;
}

body {
  @apply bg-gray-100 text-gray-600;
  background-color: var(--bg);
  color: var(--fg);
}

:root {
  /* Base theme tokens (light/dark) */
  --bg-light: #f3f4f6;
  --fg-light: #334155;
  --surface-light: #ffffff;
  --border-light: #e5e7eb;
  --bg-hover-light: #f0f9ff;

  --bg-dark: #0b1220;
  --fg-dark: #cbd5e1;
  --surface-dark: #0f172a;
  --border-dark: #334155;
  --bg-hover-dark: #1e293b;
  /* Brand severity tokens */
  --brand-primary: color-mix(in srgb, white 22%, #2563eb);
  --brand-primary-hover: color-mix(in srgb, white 10%, #1d4ed8);
  --brand-primary-contrast: #ffffff;

  --brand-secondary: color-mix(in srgb, white 20%, #64748b);
  --brand-secondary-hover: color-mix(in srgb, white 10%, #475569);
  --brand-secondary-contrast: #ffffff;

  --brand-success: color-mix(in srgb, white 18%, #16a34a);
  --brand-success-hover: color-mix(in srgb, white 8%, #15803d);
  --brand-success-contrast: #e2e8f0;

  --brand-info: color-mix(in srgb, white 20%, #0284c7);
  --brand-info-hover: color-mix(in srgb, white 10%, #0369a1);
  --brand-info-contrast: #e2e8f0;

  --brand-warn: color-mix(in srgb, white 20%, #d97706);
  --brand-warn-hover: color-mix(in srgb, white 10%, #b45309);
  --brand-warn-contrast: #fff7ed;

  --brand-danger: color-mix(in srgb, white 20%, #dc2626);
  --brand-danger-hover: color-mix(in srgb, white 8%, #b91c1c);
  --brand-danger-contrast: #fee2e2;

  /* Dark brand tokens */
  --brand-primary-dark: color-mix(in srgb, black 18%, #1e40af);
  --brand-primary-hover-dark: color-mix(in srgb, black 15%, #1e3a8a);
  --brand-primary-contrast-dark: #e2e8f0;

  --brand-secondary-dark: color-mix(in srgb, black 18%, #334155);
  --brand-secondary-hover-dark: color-mix(in srgb, black 15%, #1e293b);
  --brand-secondary-contrast-dark: #e2e8f0;

  --brand-success-dark: color-mix(in srgb, black 18%, #166534);
  --brand-success-hover-dark: color-mix(in srgb, black 15%, #14532d);
  --brand-success-contrast-dark: #e2e8f0;

  --brand-info-dark: color-mix(in srgb, black 18%, #075985);
  --brand-info-hover-dark: color-mix(in srgb, black 15%, #0c4a6e);
  --brand-info-contrast-dark: #e2e8f0;

  --brand-warn-dark: color-mix(in srgb, black 18%, #92400e);
  --brand-warn-hover-dark: color-mix(in srgb, black 15%, #78350f);
  --brand-warn-contrast-dark: #fff7ed;

  --brand-danger-dark: color-mix(in srgb, black 18%, #7f1d1d);
  --brand-danger-hover-dark: color-mix(in srgb, black 15%, #991b1b);
  --brand-danger-contrast-dark: #fee2e2;

  /* Soft variants from brand primary */
  --brand-primary-soft-light: color-mix(in srgb, var(--brand-primary) 12%, var(--surface-light));
  --brand-primary-soft-dark: color-mix(in srgb, var(--brand-primary-dark) 18%, var(--surface-dark));

  /* Nav link text colors */
  --nav-link-fg-light: #000000;
  --nav-link-fg-dark: #ffffff;

  /* Skeleton tokens */
  --skeleton-bg-light: #e5e7eb; /* gray-200 */
  --skeleton-bg-dark: #334155; /* slate-700 */

  /* Semantic colors based on brand */
  --color-green-light: var(--brand-success);
  --color-green-dark: var(--brand-success-dark);
  --color-red-light: var(--brand-danger);
  --color-red-dark: var(--brand-danger-dark);
  --color-blue-light: var(--brand-primary);
  --color-blue-dark: var(--brand-primary-dark);
  --color-gray-light: var(--brand-secondary);
  --color-gray-dark: var(--brand-secondary-dark);

  --font-size-h1: 60px;
  --font-size-h2: 48px;
  --font-size-h3: 40px;
  --font-size-h4: 32px;
  --font-size-h5: 24px;
  --font-size-subtitle1: 48px;
  --font-size-subtitle2: 40px;
  --font-size-subtitle3: 32px;
  --font-size-subtitle4: 24px;
  --font-size-l: 20px;
  --font-size-m: 16px;
  --font-size-s: 14px;
  --font-size-xs: 13px;
  --font-size-caption: 11px;

  --line-height-h1: 80px;
  --line-height-h2: 64px;
  --line-height-h3: 52px;
  --line-height-h4: 40px;
  --line-height-h5: 36px;
  --line-height-subtitle1: 64px;
  --line-height-subtitle2: 52px;
  --line-height-subtitle3: 40px;
  --line-height-subtitle4: 36px;
  --line-height-l: 32px;
  --line-height-m: 24px;
  --line-height-s: 18px;
  --line-height-xs: 20px;
  --line-height-caption: 16px;

  --font-weight-regular: 400;
  --font-weight-bold: 600;
}

@layer utilities {
  .text-h1 {
    font-size: var(--font-size-h1);
    line-height: var(--line-height-h1);
    font-weight: var(--font-weight-bold);
  }

  .text-h2 {
    font-size: var(--font-size-h2);
    line-height: var(--line-height-h2);
    font-weight: var(--font-weight-bold);
  }

  .text-h3 {
    font-size: var(--font-size-h3);
    line-height: var(--line-height-h3);
    font-weight: var(--font-weight-bold);
  }

  .text-h4 {
    font-size: var(--font-size-h4);
    line-height: var(--line-height-h4);
    font-weight: var(--font-weight-bold);
  }

  .text-h5 {
    font-size: var(--font-size-h5);
    line-height: var(--line-height-h5);
    font-weight: var(--font-weight-bold);
  }

  .text-subtitle1 {
    font-size: var(--font-size-subtitle1);
    line-height: var(--line-height-subtitle1);
    font-weight: var(--font-weight-regular);
  }

  .text-subtitle2 {
    font-size: var(--font-size-subtitle2);
    line-height: var(--line-height-subtitle2);
    font-weight: var(--font-weight-regular);
  }

  .text-subtitle3 {
    font-size: var(--font-size-subtitle3);
    line-height: var(--line-height-subtitle3);
    font-weight: var(--font-weight-regular);
  }

  .text-subtitle4 {
    font-size: var(--font-size-subtitle4);
    line-height: var(--line-height-subtitle4);
    font-weight: var(--font-weight-regular);
  }

  .text-l {
    font-size: var(--font-size-l);
    line-height: var(--line-height-l);
    font-weight: var(--font-weight-regular);
  }

  .text-l-bold {
    font-size: var(--font-size-l);
    line-height: var(--line-height-l);
    font-weight: var(--font-weight-bold);
  }

  .text-m {
    font-size: var(--font-size-m);
    line-height: var(--line-height-m);
    font-weight: var(--font-weight-regular);
  }

  .text-m-bold {
    font-size: var(--font-size-m);
    line-height: var(--line-height-m);
    font-weight: var(--font-weight-bold);
  }

  .text-s {
    font-size: var(--font-size-s);
    line-height: var(--line-height-s);
    font-weight: var(--font-weight-regular);
  }

  .text-s-bold {
    font-size: var(--font-size-s);
    line-height: var(--line-height-s);
    font-weight: var(--font-weight-bold);
  }

  .text-xs {
    font-size: var(--font-size-xs);
    line-height: var(--line-height-xs);
    font-weight: var(--font-weight-regular);
  }

  .text-xs-bold {
    font-size: var(--font-size-xs);
    line-height: var(--line-height-xs);
    font-weight: var(--font-weight-bold);
  }

  .text-caption {
    font-size: var(--font-size-caption);
    line-height: var(--line-height-caption);
    font-weight: var(--font-weight-regular);
  }

  .text-caption-bold {
    font-size: var(--font-size-caption);
    line-height: var(--line-height-caption);
    font-weight: var(--font-weight-bold);
  }
}

html:not(.dark) {
  /* Light theme tokens */
  --bg: var(--bg-light);
  --fg: var(--fg-light);
  --surface: var(--surface-light);
  --border: var(--border-light);
  --bg-hover: var(--bg-hover-light);
  --card: var(--bg-soft-light);
  --brand-primary-soft: var(--brand-primary-soft-light);
  --skeleton-bg: var(--skeleton-bg-light);
  --nav-link-fg: var(--fg);
  /* Scrollbar (light) */
  --scrollbar-track: #ffffff;
  --scrollbar-thumb: #9ca3af; /* gray-400 */
  --scrollbar-thumb-hover: #6b7280; /* gray-500 */

  /* PrimeVue severity colors*/
  --p-primary-color: var(--brand-primary);
  --p-primary-hover-color: var(--brand-primary-hover);
  --p-primary-contrast-color: var(--brand-primary-contrast);
  --p-secondary-color: var(--brand-secondary);
  --p-secondary-hover-color: var(--brand-secondary-hover);
  --p-secondary-contrast-color: var(--brand-secondary-contrast);
  --p-success-color: var(--brand-success);
  --p-success-hover-color: var(--brand-success-hover);
  --p-success-contrast-color: var(--brand-success-contrast);
  --p-info-color: var(--brand-info);
  --p-info-hover-color: var(--brand-info-hover);
  --p-info-contrast-color: var(--brand-info-contrast);
  --p-warn-color: var(--brand-warn);
  --p-warn-hover-color: var(--brand-warn-hover);
  --p-warn-contrast-color: var(--brand-warn-contrast);
  --p-danger-color: var(--brand-danger);
  --p-danger-hover-color: var(--brand-danger-hover);
  --p-danger-contrast-color: var(--brand-danger-contrast);

  /* Table */ /* https://primevue.org/datatable/#theming.styled */
  /* ---------------- Header */
  --p-datatable-header-background: var(--surface);
  --p-datatable-header-cell-background: var(--border);
  --p-datatable-header-cell-color: var(--fg);

  /* ---------------- Body */
  --p-datatable-row-background: var(--surface);
  --p-datatable-row-color: var(--fg);
  --p-datatable-row-hover-background: var(--bg-hover);
  --p-datatable-row-hover-color: var(--p-datatable-row-color);
  --p-datatable-header-border-color: var(--border);
  --p-datatable-header-border-width: 1px;
  --p-datatable-header-cell-border-color: var(--border);
  --p-datatable-body-cell-border-color: var(--border);
  --p-datatable-transition-duration: 0ms;
  /* -------------------------------------------------------------------------------------------- */
}

html.dark {
  /* Dark theme tokens */
  --bg: var(--bg-dark);
  --fg: var(--fg-dark);
  --surface: var(--surface-dark);
  --border: var(--border-dark);
  --bg-hover: var(--bg-hover-dark);
  --card: var(--bg-dark);
  --brand-primary-soft: var(--brand-primary-soft-dark);
  --skeleton-bg: var(--skeleton-bg-dark);
  --nav-link-fg: var(--fg);
  /* Scrollbar (dark) */
  --scrollbar-track: #0f172a; /* surface-dark */
  --scrollbar-thumb: #94a3b8; /* slate-400 */
  --scrollbar-thumb-hover: #cbd5e1; /* slate-300 */

  /* PrimeVue severity colors*/
  --p-primary-color: var(--brand-primary-dark);
  --p-primary-hover-color: var(--brand-primary-hover-dark);
  --p-primary-contrast-color: var(--brand-primary-contrast-dark);
  --p-secondary-color: var(--brand-secondary-dark);
  --p-secondary-hover-color: var(--brand-secondary-hover-dark);
  --p-secondary-contrast-color: var(--brand-secondary-contrast-dark);
  --p-success-color: var(--brand-success-dark);
  --p-success-hover-color: var(--brand-success-hover-dark);
  --p-success-contrast-color: var(--brand-success-contrast-dark);
  --p-info-color: var(--brand-info-dark);
  --p-info-hover-color: var(--brand-info-hover-dark);
  --p-info-contrast-color: var(--brand-info-contrast-dark);
  --p-warn-color: var(--brand-warn-dark);
  --p-warn-hover-color: var(--brand-warn-hover-dark);
  --p-warn-contrast-color: var(--brand-warn-contrast-dark);
  --p-danger-color: var(--brand-danger-dark);
  --p-danger-hover-color: var(--brand-danger-hover-dark);
  --p-danger-contrast-color: var(--brand-danger-contrast-dark);

  /* Design tokens for components PrimeVue --------------------------------------------------------------------- */
  /* https://primevue.org/datatable/#theming.styled */
  /* Table */
  /* ---------------- Header */
  --p-datatable-header-background: var(--surface);
  --p-datatable-header-cell-background: var(--border);
  --p-datatable-header-cell-color: var(--fg);
  /* ---------------- Body */
  --p-datatable-row-background: var(--bg);
  --p-datatable-row-color: var(--fg);
  --p-datatable-row-hover-background: var(--bg-hover);
  --p-datatable-row-hover-color: var(--p-datatable-row-color);
  --p-datatable-header-border-color: var(--border);
  --p-datatable-header-border-width: 1px;
  --p-datatable-header-cell-border-color: var(--border);
  --p-datatable-body-cell-border-color: var(--border);
  --p-datatable-transition-duration: 0ms;
}

/* PrimeVue overrides --------------------------------------------------------------------- */

/* Global scrollbar theming (WebKit & Firefox) */
* {
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}
*::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
*::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}
*::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb);
  border-radius: 8px;
}
*::-webkit-scrollbar-thumb:hover {
  background-color: var(--scrollbar-thumb-hover);
}

/* Popover */
html.dark .p-popover {
  border: 1px solid #000000 !important;
  background-color: #000000 !important;
}
html.dark .p-popover .p-popover-arrow,
html.dark .p-popover .p-popover-arrow::before {
  background-color: #000000 !important;
  border-color: #000000 !important;
}
html.dark .p-popover .p-popover-arrow {
  border-top-color: #000000 !important;
  border-right-color: #000000 !important;
  border-bottom-color: #000000 !important;
  border-left-color: #000000 !important;
}

/* DataTable */
.p-datatable-thead > tr > th {
  background-color: var(--p-datatable-header-cell-background) !important;
  color: var(--p-datatable-header-cell-color) !important;
}
.p-datatable-tbody > tr > td {
  background-color: var(--p-datatable-row-background) !important;
  color: var(--p-datatable-row-color) !important;
  border-color: var(--p-datatable-body-cell-border-color) !important;
}
.p-datatable-tbody > tr:hover > td {
  background-color: var(--p-datatable-row-hover-background) !important;
  color: var(--p-datatable-row-hover-color) !important;
}
.p-datatable-paginator-bottom {
  border: none !important;
}

/* Что бы не запаздывал переход цвета при смене темы
.p-datatable-thead > tr > th,
.p-datatable-tbody > tr > td {
  transition: none !important;
} */

/* PrimePaginator black theme */
.p-paginator {
  background: transparent !important;
  border: none !important;
  padding: 16px !important;
}
.p-paginator-content {
  display: flex !important;
  width: 100% !important;
  justify-content: space-between !important;
  align-items: center !important;
}

.p-paginator-rpp-dropdown {
  display: flex !important;
}

.p-paginator-content > *:not(.p-paginator-rpp-dropdown) {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
}

.p-paginator-content {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
}

.p-paginator-content > .p-paginator-rpp-dropdown {
  flex-shrink: 0 !important;
}

.p-paginator-content > .p-paginator-rpp-dropdown {
  margin-right: auto !important;
}

.p-paginator-content > *:not(.p-paginator-rpp-dropdown) {
  margin-left: 8px !important;
}

.p-paginator .p-paginator-pages .p-paginator-page {
  background: transparent !important;
  border: 1px solid var(--border) !important;
  color: var(--fg) !important;
  border-radius: 0.375rem !important;
  margin: 0 0.125rem !important;
  min-width: 2.5rem !important;
  height: 2.5rem !important;
  transition: all 0.15s ease-in-out !important;
}

.p-paginator .p-paginator-pages .p-paginator-page:hover {
  background: var(--bg-hover) !important;
  border-color: var(--p-primary-color) !important;
}

.p-paginator .p-paginator-pages .p-paginator-page.p-highlight {
  background: var(--p-primary-color) !important;
  border-color: var(--p-primary-color) !important;
  color: var(--p-primary-contrast-color) !important;
}

.p-paginator .p-paginator-first,
.p-paginator .p-paginator-prev,
.p-paginator .p-paginator-next,
.p-paginator .p-paginator-last {
  background: transparent !important;
  border: 1px solid var(--border) !important;
  color: var(--fg) !important;
  border-radius: 0.375rem !important;
  margin: 0 0.125rem !important;
  min-width: 2.5rem !important;
  height: 2.5rem !important;
  transition: all 0.15s ease-in-out !important;
}

.p-paginator .p-paginator-first:hover,
.p-paginator .p-paginator-prev:hover,
.p-paginator .p-paginator-next:hover,
.p-paginator .p-paginator-last:hover {
  background: var(--bg-hover) !important;
  border-color: var(--p-primary-color) !important;
}

.p-paginator .p-paginator-first:disabled,
.p-paginator .p-paginator-prev:disabled,
.p-paginator .p-paginator-next:disabled,
.p-paginator .p-paginator-last:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

.p-paginator .p-paginator-current {
  background: transparent !important;
  border: none !important;
  color: var(--fg) !important;
  font-size: 0.875rem !important;
  padding: 0 0.75rem !important;
}

/* Secondary buttons for dark theme only */
html.dark .p-button.p-button-secondary {
  background: var(--p-secondary-color) !important;
  border-color: var(--p-secondary-color) !important;
  color: var(--p-secondary-contrast-color) !important;
}

html.dark .p-button.p-button-secondary:hover {
  background: var(--p-secondary-hover-color) !important;
  border-color: var(--p-secondary-hover-color) !important;
}

/* Success buttons for dark theme */
html.dark .p-button.p-button-success {
  background: var(--p-success-color) !important;
  border-color: var(--p-success-color) !important;
  color: var(--p-success-contrast-color) !important;
}

html.dark .p-button.p-button-success:hover {
  background: var(--p-success-hover-color) !important;
  border-color: var(--p-success-hover-color) !important;
}

/* Info buttons for dark theme */
html.dark .p-button.p-button-info {
  background: var(--p-info-color) !important;
  border-color: var(--p-info-color) !important;
  color: var(--p-info-contrast-color) !important;
}

html.dark .p-button.p-button-info:hover {
  background: var(--p-info-hover-color) !important;
  border-color: var(--p-info-hover-color) !important;
}

/* Warning buttons for dark theme */
html.dark .p-button.p-button-warn {
  background: var(--p-warn-color) !important;
  border-color: var(--p-warn-color) !important;
  color: var(--p-warn-contrast-color) !important;
}

html.dark .p-button.p-button-warn:hover {
  background: var(--p-warn-hover-color) !important;
  border-color: var(--p-warn-hover-color) !important;
}

/* Danger buttons for dark theme */
html.dark .p-button.p-button-danger {
  background: var(--p-danger-color) !important;
  border-color: var(--p-danger-color) !important;
  color: var(--p-danger-contrast-color) !important;
}

html.dark .p-button.p-button-danger:hover {
  background: var(--p-danger-hover-color) !important;
  border-color: var(--p-danger-hover-color) !important;
}

/* Select dropdown dark theme */
html.dark .p-select {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  color: var(--fg) !important;
}

html.dark .p-select .p-select-label {
  color: var(--fg) !important;
}

html.dark .p-select .p-select-dropdown {
  color: var(--fg) !important;
}

html.dark .p-select:hover {
  border-color: var(--p-primary-color) !important;
}

html.dark .p-select.p-focus {
  border-color: var(--p-primary-color) !important;
  box-shadow: 0 0 0 0.2rem color-mix(in srgb, var(--p-primary-color) 20%, transparent) !important;
}

html.dark .p-select .p-select-dropdown-icon {
  color: var(--fg) !important;
}

/* Select dropdown panel dark theme */
html.dark .p-select-overlay {
  background: var(--surface) !important;
  border: 1px solid var(--border) !important;
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.3),
    0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
}

html.dark .p-select-overlay .p-select-item {
  color: var(--fg) !important;
  background: transparent !important;
}

html.dark .p-select-overlay .p-select-item:hover {
  background: var(--bg-hover) !important;
  color: var(--fg) !important;
}

html.dark .p-select-overlay .p-select-item.p-highlight {
  background: var(--p-primary-color) !important;
  color: var(--p-primary-contrast-color) !important;
}

/* Select option dark theme */
html.dark .p-select-overlay .p-select-option {
  color: var(--fg) !important;
  background: transparent !important;
}

html.dark .p-select-overlay .p-select-option:hover {
  background: var(--bg-hover) !important;
  color: var(--fg) !important;
}

html.dark .p-select-overlay .p-select-option.p-focus {
  background: var(--bg-hover) !important;
  color: var(--fg) !important;
}

html.dark .p-select-overlay .p-select-option.p-select-option-selected {
  background: var(--p-primary-color) !important;
  color: var(--p-primary-contrast-color) !important;
}

html.dark .p-select-overlay .p-select-option.p-select-option-selected:hover {
  background: var(--p-primary-hover-color) !important;
  color: var(--p-primary-contrast-color) !important;
}

html.dark .p-select-overlay .p-select-option.p-select-option-selected.p-focus {
  background: var(--p-primary-hover-color) !important;
  color: var(--p-primary-contrast-color) !important;
}

/* PrimeVue InputText Dark Theme */
html.dark .p-inputtext {
  background: var(--surface-dark) !important;
  border: 1px solid var(--border-dark) !important;
  color: var(--fg-dark) !important;
}

html.dark .p-inputtext:focus {
  border-color: var(--brand-primary) !important;
  box-shadow: 0 0 0 0.2rem rgba(37, 99, 235, 0.25) !important;
}

html.dark .p-inputtext::placeholder {
  color: var(--fg-dark) !important;
  opacity: 0.6 !important;
}

/* PrimeVue IconField Dark Theme */
html.dark .p-iconfield {
  background: var(--surface-dark) !important;
  border: 1px solid var(--border-dark) !important;
  border-radius: 6px !important;
}

html.dark .p-iconfield:focus-within {
  border-color: var(--brand-primary) !important;
  box-shadow: 0 0 0 0.2rem rgba(37, 99, 235, 0.25) !important;
}

/* PrimeVue InputIcon Dark Theme */
html.dark .p-inputicon {
  color: var(--fg-dark) !important;
  opacity: 0.7 !important;
}

html.dark .p-inputicon:hover {
  color: var(--brand-danger) !important;
  opacity: 1 !important;
}

/* Table Action Panel Styles */
.table-action-panel {
  display: flex;
  width: 100%;
}

.table-action-panel-actions {
  width: 100%;
  display: flex;
  gap: 15px;
}
